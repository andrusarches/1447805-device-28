var popupMap=document.querySelector(".pop-up-map"),popupFeedback=document.querySelector(".pop-up-feedback"),feedbackButton=document.querySelector(".feedback-button"),feedbackClose=popupFeedback.querySelector(".pop-up-close"),mapClose=popupMap.querySelector(".pop-up-close"),popupOverlay=document.querySelector(".pop-up-overlay"),mapButton=document.querySelector(".contacts-map"),feedbackForm=popupFeedback.querySelector("form"),feedbackName=popupFeedback.querySelector("[name=feedback-name]"),feedbackEmail=popupFeedback.querySelector("[name=feedback-email]"),feedbackMessage=popupFeedback.querySelector("[name=feedback-message]"),isStorageSuportFeedback=!0,storageFeedbackName="",storageFeedbackEmail="";function initMap(){var e={lat:55.687031,lng:37.529618},a=new google.maps.Map(document.getElementById("map"),{zoom:17,center:e});new google.maps.Marker({position:e,map:a})}try{storageFeedbackName=localStorage.getItem("FeedbackName"),storageFeedbackEmail=localStorage.getItem("FeedbackEmail")}catch(e){isStorageSuportFeedback=!1}feedbackName.required=!1,feedbackEmail.required=!1,feedbackMessage.required=!1,feedbackButton.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.add("pop-up-feedback-active"),popupOverlay.classList.add("pop-up-overlay-active"),storageFeedbackEmail?(feedbackName.value=storageFeedbackName,feedbackEmail.value=storageFeedbackEmail,feedbackMessage.focus()):feedbackName.focus()}),feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value&&feedbackMessage.value?isStorageSuportFeedback&&(localStorage.setItem("FeedbackName",feedbackName.value),localStorage.setItem("FeedbackEmail",feedbackEmail.value)):(e.preventDefault(),popupFeedback.classList.remove("pop-up-error"),popupFeedback.offsetWidth,popupFeedback.classList.add("pop-up-error"),feedbackName.value||feedbackName.focus(),!feedbackName.value||feedbackEmail.value&&feedbackMessage.value||feedbackEmail.focus(),feedbackName.value&&feedbackEmail.value&&!feedbackMessage.value&&feedbackMessage.focus(),feedbackName.value||feedbackName.classList.add("pop-up-input-invalid"),feedbackEmail.value||feedbackEmail.classList.add("pop-up-input-invalid"),feedbackMessage.value||feedbackMessage.classList.add("pop-up-input-invalid"))}),feedbackName.addEventListener("focusout",function(e){feedbackName.value&&feedbackName.classList.contains("pop-up-input-invalid")&&feedbackName.classList.remove("pop-up-input-invalid")}),feedbackEmail.addEventListener("focusout",function(e){feedbackEmail.value&&feedbackEmail.classList.contains("pop-up-input-invalid")&&feedbackEmail.classList.remove("pop-up-input-invalid")}),feedbackMessage.addEventListener("focusout",function(e){feedbackMessage.value&&feedbackMessage.classList.contains("pop-up-input-invalid")&&feedbackMessage.classList.remove("pop-up-input-invalid")}),feedbackClose.addEventListener("click",function(e){popupFeedback.classList.remove("pop-up-feedback-active"),popupFeedback.classList.remove("pop-up-error"),popupOverlay.classList.remove("pop-up-overlay-active")}),mapButton.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("pop-up-map-active"),popupOverlay.classList.add("pop-up-overlay-active")}),mapClose.addEventListener("click",function(e){popupMap.classList.remove("pop-up-map-active"),popupOverlay.classList.remove("pop-up-overlay-active")}),window.addEventListener("keydown",function(e){27==e.keyCode&&(popupFeedback.classList.contains("pop-up-feedback-active")||popupMap.classList.contains("pop-up-map-active"))&&(e.preventDefault(),popupFeedback.classList.remove("pop-up-feedback-active"),popupMap.classList.remove("pop-up-map-active"),popupOverlay.classList.remove("pop-up-overlay-active"))}),popupOverlay.addEventListener("click",function(e){(popupFeedback.classList.contains("pop-up-feedback-active")||popupMap.classList.contains("pop-up-map-active"))&&(popupFeedback.classList.remove("pop-up-feedback-active"),popupMap.classList.remove("pop-up-map-active"),popupOverlay.classList.remove("pop-up-overlay-active"))});
